<div class="page page-table" data-ng-controller="TrafficsReportCtrl">
  <div class="row ui-section">
    <div class="col-lg-8 clearfix">
      <h2 class="section-header">Traffics</h2>
    </div>
    <div class="col-md-12">
      <section class="panel panel-default table-dynamic cl-panel-loading">
        <div class="panel-body">
          <div class="table-filters">
            <div class='divider divider-md' style="height: 1px;margin: 15px 0;"></div>
            <div class="row">
              <div class="col-md-2 col-xs-10" style="width: 200px">
                <md-datepicker ng-model="fromDate" md-placeholder="From date"></md-datepicker>
              </div>
              <div class="col-md-2 col-xs-10" style="width: 200px">
                <md-datepicker ng-model="toDate" md-placeholder="To date"></md-datepicker>
              </div>
              <div class="col-md-2 col-xs-10" style="width: 100px">
                <md-button class="md-raised btn-w-lg md-primary" ng-disabled="!dateSelected()" data-ng-click="date()" style="margin-left: 20px;width: 100px;min-width: 0;">
                  Go
                </md-button>
              </div>
            </div>
            <div class='divider divider-md' style="height: 1px;margin: 10px 0;"></div>
            <div class="row">
              <div class="col-md-5">
                <!-- filter here -->
              </div>
              <div class="col-md-3 col-xs-2">
                <md-progress-circular class="md-accent" md-mode="indeterminate" md-diameter="40"
                  ng-show='searchUpdating'></md-progress-circular>
              </div>
            </div>
          </div>
          <div class="table-responsive">
            <table class="table cl-table-with-buttons">
              <thead>
                <tr>
                  <th class='with-checkbox'>
                    <md-checkbox ng-model="headerCheckbox" ng-change="toggleAllCheckboxes()" aria-label="Select">
                    </md-checkbox>
                  </th>
                  <th>
                    <div class="th">IP Address</div>
                  </th>
                  <th>
                    <div class="th">Converted?</div>
                  </th>
                  <th>
                    <div class="th" style="width:100px">Geolocation</div>
                  </th>
                  <th>
                    <div class="th">Accessed Time</div>
                  </th>
                  <th>
                    <div class="th">ASO</div>
                  </th>
                  <th>
                    <div class="th">Organization</div>
                  </th>
                  <th>
                    <div class="th">ISP</div>
                  </th>
                  <th>
                    <div class="th">Connection Type</div>
                  </th>
                  <th>
                    <div class="th">Proxy</div>
                  </th>
                  <th>
                    <div class="th">Hostnames</div>
                  </th>
                  <th>
                    <div class="th">Browser</div>
                  </th>
                  <th>
                    <div class="th">OS</div>
                  </th>
                </tr>
              </thead>
              <tbody>
                <tr data-ng-repeat="traffic in traffics" ng-class="{isBot: traffic.isBot}">
                  <td class='with-checkbox'>
                    <md-checkbox ng-model="traffic['selected']" aria-label="Select"></md-checkbox>
                  </td>
                  <td>
                    <div ngclipboard data-clipboard-text="{{traffic.ip}}" ngclipboard-success="onSuccess(e);"
                      style="white-space: nowrap;overflow: hidden;text-overflow: ellipsis;width: 110px;cursor:pointer;height: 20px;">
                      {{traffic.ip}}
                    </div>
                    <div style="display:none">Copied</div>

                    <md-tooltip md-delay="0">
                      {{traffic.ip}}
                    </md-tooltip>
                  </td>
                  <td style="text-align:center">
                    <span class="logo-icon zmdi zmdi-{{traffic.icon}}"></span>
                  </td>
                  <td>
                    <div>
                      <div ngclipboard data-clipboard-text="{{traffic.short_location}}"
                        ngclipboard-success="onSuccess(e);" style="cursor:pointer">
                        {{traffic.short_location}}
                      </div>
                      <div style="display:none">Copied</div>

                      <md-tooltip md-delay="0">
                        {{traffic.connection.location}}
                      </md-tooltip>
                    </div>
                  </td>
                  <td><span ng-bind="traffic.access_time | date:'MMM d h:mm a'"></span></td>
                  <td>{{traffic.connection.aso}}</td>
                  <td>{{traffic.connection.org}}</td>
                  <td>{{traffic.connection.isp}}</td>
                  <td>{{traffic.connection.type}}</td>
                  <td>{{traffic.connection.proxy}}</td>
                  <td>{{traffic.connection.hostnames}}</td>
                  <td>{{traffic.browser}}</td>
                  <td>{{traffic.os}}</td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>

        <footer class="table-footer">
        </footer>
      </section>
    </div>
  </div>

</div>